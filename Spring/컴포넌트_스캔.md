# 컴포넌트 스캔(component scan)

## 컴포넌트 스캔이란? 

#### @Bean 이나 <Bean>으로 스프링 빈을 직접 등록하기 않고 어노테이션으로 등록할 수 있는 기능이다.

## 컴포넌트 스캔을 쓰는 이유

#### 등록해야 할 빈이 많아지면 일일이 등록하는 게 번거롭기 때문에 간단히 어노테이션 통해 등록할 수 있다.
#### 추가로 @Autowired 어노테이션을 통해 의존관계를 자동으로 주입할 수도 있다.



## 사용 방법

#### 1. 설정 정보에 @ComponentScan 어노테이션을 붙인다.
#### 2. 스캔 대상 클래스에 @Component 어노테이션을 붙인다.

** @Configuration 안에는 @Component 가 포함되어 있다.

이때 빈 이름은 클래스 명을 그래도 사용하되 맨 앞글자를 소문자로 바꾼다.
(옵션을 통해 변경할수도 있음)

설정 정보가 없기 때문에 클래스 내에서 의존 관계도 직접 해결해야한다. -> @Autowired 를 이용

## 탐색 위치와 기본 스캔 대상

#### basePakages : 패키지의 시작 위치 지정

#### basePakageClasses : 패키지의 시작 클래스 패키지 지정

미지정 시 @ComponentScan 경로부터 탐색 시작

설정 정보 클래스의 위치를 최상단으로 할 것을 권장

## 컴포넌트 스캔 대상

@Component : 컴포넌트 스캔
@Controller : MVC 컨트롤러로 인식
@Service : 비즈니스 핵심 로직 인지 (별 다른 기능 없음) 
@Repository : 데이터 접근 계층으로 인식 
@Configuration : 스프링 설정 정보

## 필터

#### - includeFilters : 컴포넌트 스캔 대상을 추가로 지정한다.
#### - excludeFilters : 컴포넌트 스캔 제외 대상을 지정한다.

#### 5가지의 필터 옵션
1.ANNOTATION
2.ASSINABLE_TYPE
3.ASPECTJ
4.REGEX
5.CUSTOM

## 자동 등록 빈과 수동 등록 빈이 충돌하면 ? 

원래는 수동 빈이 우선권을 가지는 데, 최근 스프링 부트는 오류를 발생시킨다.




